(window.webpackJsonp=window.webpackJsonp||[]).push([[2],{OPsQ:function(_,t,e){"use strict";function o(_,t){k.options.__h&&k.options.__h(f,_,m||t),m=0;var e=f.__H||(f.__H={__:[],__h:[]});return _>=e.__.length&&e.__.push({__V:O}),e.__[_]}function r(_){return m=1,function(_,t,e){var r=o(g++,2);if(r.t=_,!r.__c&&(r.__=[e?e(t):l(void 0,t),function(_){var t=r.__N?r.__N[0]:r.__[0],e=r.t(t,_);t!==e&&(r.__N=[e,r.__[1]],r.__c.setState({}))}],r.__c=f,!f.u)){var n=function(_,t,e){if(!r.__c.__H)return!0;var o=r.__c.__H.__.filter((function(_){return _.__c}));if(o.every((function(_){return!_.__N})))return!s||s.call(this,_,t,e);var n=!1;return o.forEach((function(_){if(_.__N){var t=_.__[0];_.__=_.__N,_.__N=void 0,t!==_.__[0]&&(n=!0)}})),!(!n&&r.__c.props===_)&&(!s||s.call(this,_,t,e))};f.u=!0;var s=f.shouldComponentUpdate,c=f.componentWillUpdate;f.componentWillUpdate=function(_,t,e){if(this.__e){var o=s;s=void 0,n(_,t,e),s=o}c&&c.call(this,_,t,e)},f.shouldComponentUpdate=n}return r.__N||r.__}(l,_)}function n(_,t){var e=o(g++,3);!k.options.__s&&h(e.__H,t)&&(e.__=_,e.i=t,f.__H.__h.push(e))}function s(){for(var _;_=j.shift();)if(_.__P&&_.__H)try{_.__H.__h.forEach(a),_.__H.__h.forEach(i),_.__H.__h=[]}catch(t){_.__H.__h=[],k.options.__e(t,_.__v)}}function c(_){var t,e=function(){clearTimeout(o),E&&cancelAnimationFrame(t),setTimeout(_)},o=setTimeout(e,100);E&&(t=requestAnimationFrame(e))}function a(_){var t=f,e=_.__c;"function"==typeof e&&(_.__c=void 0,e()),f=t}function i(_){var t=f;_.__c=_.__(),f=t}function h(_,t){return!_||_.length!==t.length||t.some((function(t,e){return t!==_[e]}))}function l(_,t){return"function"==typeof t?t(_):t}function u({data:_,error:t}){const[e,o]=r(0);n((()=>{if(_.length){const _=s();o(_)}}),[_]);const s=()=>{if(_.length<0)return 0;let t=0,e=0;for(let o=0;o<_.length;o++)for(let r=0;r<_[o].tasks.length;r++)t+=_[o].tasks[r].value,_[o].tasks[r].checked&&(e+=_[o].tasks[r].value);const o=(100*e/t).toFixed(0);return parseInt(o)};return Object(k.h)("div",{class:N.progress},Object(k.h)("div",{class:N.progress__current,style:{width:`${e}%`}}),!t&&Object(k.h)("div",{class:N.progress__percentage,style:{left:`calc(${e}% - ${e<10?4*e:45}px)`,color:e<5?"black":"white"}},e,"%"))}function p({container:_,size:t=30,text:e="Loading"}){return Object(k.h)("div",null,Object(k.h)("p",{class:T.loader__text},e),Object(k.h)("div",{class:T.container,style:{height:_}},Object(k.h)("div",{class:T.loader,style:{height:t,width:t}},Object(k.h)("div",{class:T.loader__interior,style:{height:t/1.5,width:t/1.5}}))))}function d({data:_,isLoading:t,updateTasks:e,error:o=!1}){const[n,s]=r([]),c=(t,o)=>t.map(((t,r)=>Object(k.h)("li",{class:q.tasksList__task,key:r},Object(k.h)("label",null,Object(k.h)("input",{type:"checkbox",checked:t.checked,onChange:()=>((t,o)=>{let r=[..._];r[t].tasks[o].checked=!_[t].tasks[o].checked,e(r)})(o,r)}),Object(k.h)("span",{class:q.checkmark})),Object(k.h)("p",null,t.description))));return Object(k.h)("div",{class:q.container},Object(k.h)("div",{class:q.container__header},Object(k.h)("h3",{class:q.header__title},"Lodgify Grouped Tasks"),Object(k.h)(u,{data:_,loading:t,error:o})),Object(k.h)("ul",{class:q.container__group},t&&Object(k.h)(p,{container:50,size:35}),!t&&_&&_.map(((_,t)=>{const e=(o=t,void 0!==n.find((_=>_===o)));var o;return Object(k.h)("li",{class:q.group__wrapper,key:t},Object(k.h)("div",{class:q.group},Object(k.h)("img",{class:q.group__icon,src:"../../assets/icons/clipboard.svg"}),Object(k.h)("p",{class:q.group__name},_.name),Object(k.h)("div",{class:q.group__toggle,onClick:()=>(_=>{let t=[...n];const e=n.findIndex((t=>t===_));-1!==e?t.splice(e,1):t.push(_),s(t)})(t)},Object(k.h)("div",{class:q.toggle__wrapper},Object(k.h)("p",{class:q.toggle__text},e?"Hide":"Show"),Object(k.h)("img",{src:"../../assets/icons/chevron-down.svg",style:{transform:`scaleY( ${e?-1:1})`}})))),Object(k.h)("div",{style:{maxHeight:e?500:0},class:q.tasksList__wrapper},Object(k.h)("ul",{class:q.tasksList},c(_.tasks,t))))})),!t&&o&&Object(k.h)("div",{class:q.error_container},Object(k.h)("img",{src:"../../assets/icons/alert-octagon.svg"}),Object(k.h)("p",{class:q.error__text},"There was an error, try reloading the page."))))}e.r(t);var g,f,v,b,k=e("hosL"),m=0,j=[],O=[],w=k.options.__b,H=k.options.__r,y=k.options.diffed,L=k.options.__c,x=k.options.unmount;k.options.__b=function(_){f=null,w&&w(_)},k.options.__r=function(_){H&&H(_),g=0;var t=(f=_.__c).__H;t&&(v===f?(t.__h=[],f.__h=[],t.__.forEach((function(_){_.__N&&(_.__=_.__N),_.__V=O,_.__N=_.i=void 0}))):(t.__h.forEach(a),t.__h.forEach(i),t.__h=[])),v=f},k.options.diffed=function(_){y&&y(_);var t=_.__c;t&&t.__H&&(t.__H.__h.length&&(1!==j.push(t)&&b===k.options.requestAnimationFrame||((b=k.options.requestAnimationFrame)||c)(s)),t.__H.__.forEach((function(_){_.i&&(_.__H=_.i),_.__V!==O&&(_.__=_.__V),_.i=void 0,_.__V=O}))),v=f=null},k.options.__c=function(_,t){t.some((function(_){try{_.__h.forEach(a),_.__h=_.__h.filter((function(_){return!_.__||i(_)}))}catch(e){t.some((function(_){_.__h&&(_.__h=[])})),t=[],k.options.__e(e,_.__v)}})),L&&L(_,t)},k.options.unmount=function(_){x&&x(_);var t,e=_.__c;e&&e.__H&&(e.__H.__.forEach((function(_){try{a(_)}catch(_){t=_}})),e.__H=void 0,t&&k.options.__e(t,e.__v))};var E="function"==typeof requestAnimationFrame,N={progress:"progress__ADcbM",progress__current:"progress__current__7EFsS",progress__percentage:"progress__percentage__Fahq2"},T={container:"container__bBvht",loader__text:"loader__text__4eIh2",loader:"loader__Ryvqc",loader__interior:"loader__interior__KDdOX",loading:"loading__8s8ZX"},q={container:"container__u7odg",container__header:"container__header__maatf",header__title:"header__title__gaD0c",container__group:"container__group__plBzN",group__wrapper:"group__wrapper__sb29P",group:"group__EhHwp",group__icon:"group__icon__RYZPe",group__name:"group__name__Incgv",group__toggle:"group__toggle__d2qvN",toggle__wrapper:"toggle__wrapper__uTuhh",toggle__text:"toggle__text__NvQnB",tasksList__wrapper:"tasksList__wrapper__PwMoZ",tasksList:"tasksList__6icGu",tasksList__task:"tasksList__task__0UEoz",error_container:"error_container__tk8Qz",checkmark:"checkmark__jIcxJ"},F="home__uRcqa";t.default=()=>{const[_,t]=r([]),[e,o]=r(!0),[s,c]=r(!1);n((()=>{a()}),[]);const a=async()=>{o(!0),fetch("https://gist.githubusercontent.com/huvber/ba0d534f68e34f1be86d7fe7eff92c96/raw/98a91477905ea518222a6d88dd8b475328a632d3/mock-progress").then((_=>(_.ok||(console.log("Error on getTasksList then"),c(!0)),_.json()))).then((_=>{t(_)})).catch((_=>{console.log("Error on getTasksList catch",_),c(!0)})),o(!1)};return Object(k.h)("div",{class:F},Object(k.h)(d,{data:_,isLoading:e,updateTasks:t,error:s}))}}}]);
//# sourceMappingURL=route-home.chunk.47fd7.esm.js.map